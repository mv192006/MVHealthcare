{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h3">Visit Details</h1>
    <p class="text-muted">{{ visit.patient }} · {{ visit.visit_date }}</p>
  </div>
  <div>
    {% if bill %}
    <a class="btn btn-outline-primary" href="{% url 'bill_detail' bill.id %}">View Bill</a>
    {% else %}
    <a class="btn btn-primary" href="{% url 'bill_create' visit.id %}">Generate Bill</a>
    {% endif %}
  </div>
</div>

<div class="card mb-3">
  <div class="card-body">
    <h2 class="h5">Symptoms</h2>
    <p>{{ visit.symptoms }}</p>
    <h2 class="h5">Diagnosis</h2>
    <p>{{ visit.diagnosis }}</p>
    <h2 class="h5">Prescription</h2>
    <p>{{ visit.prescription }}</p>
    <p class="fw-bold">Consultation Fee: ₹{{ visit.consultation_fee }}</p>
  </div>
</div>

<a class="btn btn-link" href="{% url 'patient_detail' visit.patient.id %}">Back to Patient</a>
{% endblock %}
